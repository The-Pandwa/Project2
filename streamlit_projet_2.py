# -*- coding: utf-8 -*-
"""streamlit_projet_2.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1kM2bMbF3MzYhxi7OOjg54-tunYiICBNi
"""

# Import Library
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import plotly.express as px
import seaborn as sns
import random
import time
import streamlit as st
from streamlit_option_menu import option_menu

# Import dataset
df_ML = pd.read_csv('movie_beforeML.csv')
    
#Configuration de la page
st.set_page_config(
    page_title="Projet2xCBC",
    layout="wide",
    initial_sidebar_state="collapsed")

citations_films = [
    "Que la Force soit avec toi. - Star Wars (1977)",
    "On se reverra toujours à Casablanca. - Casablanca (1942)",
    "J'ai besoin de la vitesse. - Top Gun (1986)",
    "La vie, c'est comme une boîte de chocolats ; on ne sait jamais sur quoi on va tomber. - Forrest Gump (1994)",
    "Il n'y a pas de place comme chez soi. - Le Magicien d'Oz (1939)",
    "Je reviendrai. - Terminator (1984)",
    "Vers l'infini et au-delà ! - Toy Story (1995)",
    "Voici Johnny ! - Shining (1980)",
    "Je suis le roi du monde ! - Titanic (1997)",
    "Pourquoi si sérieux ? - The Dark Knight (2008)",
    "La peur est le chemin vers le côté obscur. - Star Wars: Épisode I - La Menace Fantôme (1999)",
    "Ils ne savaient pas que c'était impossible, alors ils l'ont fait. - Mark Twain",
    "La simplicité est la sophistication suprême. - Léonard de Vinci",
    "La vie n'est pas d'attendre que les orages passent, c'est d'apprendre à danser sous la pluie. - Sénèque",
    "Il n'y a pas de génie sans un grain de folie. - Aristote",
    "La seule façon de faire du bon travail est d'aimer ce que vous faites. - Steve Jobs",
    "On n'arrête pas de jouer parce qu'on vieillit; on vieillit parce qu'on arrête de jouer. - Benjamin Franklin",
    "Rien n'est impossible, le mot lui-même dit 'je suis possible'. - Audrey Hepburn",
    "Le bonheur est parfois caché dans l'inconnu. - Victor Hugo",
    "Il vaut mieux être détesté pour ce que l'on est que d'être aimé pour ce que l'on n'est pas. - André Gide",
    "C'est en faisant n'importe quoi qu'on devient n'importe qui. - Michel Audiard",
    "La vie est un mystère qu'il faut vivre, et non un problème à résoudre. - Gandhi",
    "L'amour, c'est l'infini mis à la portée des caniches. - Louis-Ferdinand Céline",
    "L'échec est le fondement de la réussite. - Lao Tseu",
    "L'avenir appartient à ceux qui croient en la beauté de leurs rêves. - Eleanor Roosevelt",
    "La véritable grandeur consiste à être maître de soi. - Michel de Montaigne",
    "Il n'y a que deux façons de vivre sa vie : l'une en faisant comme si rien n'était un miracle, l'autre en faisant comme si tout était un miracle. - Albert Einstein",
    "La meilleure façon de prédire l'avenir, c'est de le créer. - Peter Drucker",
    "On ne voit bien qu'avec le cœur. L'essentiel est invisible pour les yeux. - Antoine de Saint-Exupéry",
    "Le succès, c'est d'aller d'échec en échec sans perdre son enthousiasme. - Winston Churchill",
    "Rien n'est permanent sauf le changement. - Héraclite",
    "Le courage n'est pas l'absence de peur, mais la capacité de la vaincre. - Nelson Mandela",
    "L'art de la vie consiste en un équilibre entre l'aventure et la retenue. - Teddy Roosevelt",
    "Il vaut mieux être optimiste et se tromper que pessimiste et avoir raison. - Albert Einstein",
    "Soyez vous-même, les autres sont déjà pris. - Oscar Wilde",
    "Le succès c'est d'aller d'échec en échec sans perdre son enthousiasme. - Winston Churchill",
    "La vie est vraiment simple, mais nous insistons à la rendre compliquée. - Confucius",
    "Le bonheur n'est pas d'avoir tout ce que l'on désire, mais d'apprécier ce que l'on a. - Confucius",
    "Liberté, égalité, fraternité. - La Haine (1995)",
    "Un peu d'arc-en-ciel suffit à éclairer tout un ciel. - Les Choristes (2004)",
    "Ils ont les armes, on les emmerde. - Le Cinquième Élément (1997)",
    "Moi, j'ai pas d'amis. - Amélie Poulain (2001)",
    "On n'est pas chez Mémé ici. - La Grande Vadrouille (1966)",
    "Je suis Spartacus ! - Spartacus (1960)",
    "T'as de beaux yeux, tu sais. - Le Quai des Brumes (1938)",
    "Le café des délices. - La Haine (1995)",
    "Je veux être seul. - L'As de Pique (1932)",
    "Écoutez-moi bien, Monsieur. - Le Dictateur (1940)",
    "Je suis ce que je suis. - Les Enfants du Paradis (1945)",
    "C'est un truc de fou. - Les Tontons Flingueurs (1963)",
    "La classe américaine, c'est nous. - La Classe Américaine (1993)",
    "Elle est où la poulette ? - Le Père Noël est une ordure (1982)",
    "Ils ont les armes, on les emmerde. - Le Cinquième Élément (1997)",
    "La morale, c'est comme la confiture, moins on en a, plus on l'étale. - Les Valseuses (1974)",
    "Vous n'avez rien compris à rien. - Hiroshima mon amour (1959)",
    "Un peu d'arc-en-ciel suffit à éclairer tout un ciel. - Les Choristes (2004)",
        "Je suis un homme, je ne peux pas me passer de femmes. - La Cité de la Peur (1994)",
    "Quand on mettra les cons sur orbite, t'as pas fini de tourner. - Michel Audiard",
    "C'est l'histoire d'un homme qui tombe d'un immeuble de 50 étages. Le mec, au fur et à mesure de sa chute, il se répète sans cesse pour se rassurer : jusqu'ici tout va bien, jusqu'ici tout va bien, jusqu'ici tout va bien. - La Haine (1995)",
    "Si tu es gêné par le bruit des autres, apprends à ne pas être gêné par ta propre respiration. - Amélie Poulain (2001)",
    "Il vaut mieux mobiliser son intelligence sur des conneries que mobiliser sa connerie sur des choses intelligentes. - Les Tontons Flingueurs (1963)",
    "Les cons, ça ose tout. C'est même à ça qu'on les reconnaît. - Les Tontons Flingueurs (1963)",
    "C'est un roc ! C'est un pic ! C'est un cap ! Que dis-je, c'est un cap ? C'est une péninsule ! - Cyrano de Bergerac (1990)",
    "On ne devrait jamais quitter Montauban. - L'Armée des Ombres (1969)",
    "Tous les films de Louis de Funès sont des films d'horreur. - Quentin Tarantino",
    "Si la merde valait de l'or, les pauvres naîtraient sans trou du cul. - Coluche",
    "On peut rire de tout, mais pas avec tout le monde. - Pierre Desproges",
    "Les cons, ça ose tout. C'est même à ça qu'on les reconnaît. - Les Tontons Flingueurs (1963)",
    "L'humour est une déclaration de dignité, une affirmation de la supériorité de l'homme sur ce qui lui arrive. - Romain Gary",
    "Je suis fatigué patron, fatigué de devoir courir les routes et d'être seul comme un moineau sous la pluie. - Les Temps Modernes (1936)",
    "La vie c'est comme une bicyclette, il faut avancer pour ne pas perdre l'équilibre. - Albert Einstein"
]

# Sélectionner une citation aléatoire
citation_aleatoire = random.choice(citations_films)

with st.spinner(citation_aleatoire):
    time.sleep(7)
st.success('Done!')

#Options Menu
with st.sidebar:
    selected = option_menu('Projet2xCBC', ["Présentation", 'Recommendation','Le petit +'],
    icons=['play-btn','search','info-circle'], menu_icon='intersect', default_index=0)

if selected=="Présentation":
    #Header
    st.title("Le mode d'emploi :")
    st.subheader("Si vous ne suivez pas ces recommendations, c'est à vos risques et périls !")
    st.write("Salut la compagnie !")
    st.write("Attention à la marche")

if selected=="Recommendation":
    #Header
    st.title('Welcome Bitch ! <3')
    st.subheader('Find your perfect film !')

    st.divider()
    # Création de la sidebar et features
    st.sidebar.title('Votre système de recommandation')

    # # Filtrer par film. Le point unique permet de retourner une lsite plutôt que d'avoir à saisir du texte.
    st.sidebar.write("Veuillez choisir un film :")
    selected_film = st.sidebar.multiselect('Sélectionnez votre film', df_ML['french_title'].unique())

    # # Filtrer par acteur
    st.sidebar.write("Veuillez choisir une actrice/un acteur :")
    selected_actor = st.sidebar.multiselect('Sélectionnez le genre', df_ML['actors'].unique())

    # # Filtrer par réal
    st.sidebar.write("Veuillez choisir une réalisatrice/un réalisateur :")
    selected_director = st.sidebar.multiselect('Sélectionnez une personne', df_ML['directors'].unique())

    # # # Filtrer par compositeur
    # st.sidebar.write("Veuillez choisir une compositrice/un compositeur :")
    # selected_composer = st.sidebar.multiselect('Sélectionnez une compositrice/compositeur', df_ML['composers'].unique())
    # # selected_composer = re.sub(r"[:',-]", " ", selected_composer)

    # # # Filtrer par compagnie
    # st.sidebar.write("Veuillez choisir une compagnie :")
    # selected_composer = st.sidebar.multiselect('Sélectionnez une compositrice/compositeur', df_ML['composer'].unique())
    # # selected_composer = re.sub(r"[:',-]", " ", selected_composer)

    # # # Filtrer par compagnie
    # st.sidebar.write("Veuillez choisir une compagnie :")
    # selected_composer = st.sidebar.multiselect('Sélectionnez une compositrice/compositeur', df_ML['composer'].unique())
    # # selected_composer = re.sub(r"[:',-]", " ", selected_composer)


if selected=="Le petit +":
    #Header
    st.title("Le modele d'defdsvdv :")
    st.subheader("Si vo !")
    st.write("Salut la compagnie !\n qsdsqc à la marche")

# Interface visuel
# Voir live coding Florent sur Streamlit pour arranger le visuel des reco films
